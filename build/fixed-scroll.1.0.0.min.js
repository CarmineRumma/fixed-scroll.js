/*
  * fixed-scroll v1.0.0
  * Â© Copyright Carmine Rumma 2023
  * Built on: 11-04-2023
 */

!function(a){"use strict";a.fn.isInViewport=function(){var b=a(this).offset().top,c=b+a(this).outerHeight(),d=a(window).scrollTop(),e=d+a(window).height();return c>d&&b<e},a.fn.fixedScroll=function(b){function c(a,b){console.log(a,b)}function d(){l=e.height(),j(!0)}const e=a(window),f=a("html"),g=a("body"),h=a("head");var i,j,k=this,l=e.height(),m=[];const n="fixed-scroll-section",o="."+n,p="f-scroll-wrapper",q="f-scroll-inner",r="f-unvisible";a(("<style type='text/css'>        "+o+" {            width: 100%;            height:100vh;            position: relative;            overflow: hidden;        }        "+o+".fixed {            position: fixed!important;            top: 0!important;        }        ."+r+" {            visibility: hidden;        }        ."+p+"{            position: relative;        }        ."+q+"{            position: absolute;            top: 0;            left: 0;            width: 100%;            height: 100vh;            overflow: hidden;            transform: translate3d(0,0,0);        }        ."+q+".go-down{            bottom: 0;            top: auto;        }        ."+p+".fixed > "+o+" {            position: absolute;        }    </style>").trim().replace(/\s\s+/g," ")).appendTo(h);var s=0,t=a.extend({useCSSFixed:!0,callback:null},b);return function(){var a;e.on("resize",function(){a&&clearTimeout(a),a=setTimeout(d,150)})}(),function(){var a="undefined"!=typeof InstallTrigger;i=a?f:g}(),j=function b(d){var f=0;k.length>0&&(a(k).each(function(b,c){const d=a(this);d.removeAttr("data-fixed-section"),d.addClass(n)}),a(o).wrapAll("<div class='"+p+"'></div>")),!0===d&&(m=[]),s=0,a(o).each(function(b,c){const d=a(this);var e=d.data("duration")?d.data("duration")*l:l,g=d.offset().top;s+=e,m.push({handler:a(c),offsetTop:g,height:e,callback:function(){"function"==typeof t.callback&&t.callback()}}),f=g+e}),a("."+p).css("minHeight",s);var g=0;a(o).each(function(b,c){const e=a(this);d||e.wrapInner("<div class='"+q+"' ></div>"),e.css({top:g,height:m[b].height,zIndex:100-b}),m[b].nOffsetTop=b>0?m[b-1].nOffsetTop+m[b-1].height:0,g+=m[b].height}),c("sectionsCache",m);var h=0;return a(e).on("scroll",function(){const b=a(window).scrollTop(),c=b>=h?"down":"up";h=b;const d=a("."+p).offset().top;b>m[0].offsetTop&&a("."+p).addClass("fixed");for(var e=0;e<m.length;e++){const f=m[e].nOffsetTop;var g=0;const i="up"===c?-1:1,j=m[e].handler,k=j.find("."+q);if(b+d*i>=m[e].offsetTop){var n=b-f-d;const o=f+m[e].height+d-l;if(b+l>=f){g=100*(b-(m[e].nOffsetTop+d))/(m[e].height-l)}b>=o&&(n=null,g=100,j.removeClass("fixed"),k.addClass("go-down")),n>=0&&!t.useCSSFixed&&k.css("transform","translateY("+n+"px)translateZ(0)"),t.useCSSFixed&&g>0&&g<100?(j.addClass("fixed"),k.removeClass("go-down")):j.removeClass("fixed"),t.callback(e,g)}else k.css("transform","translateY(0px)translateZ(0)"),j.removeClass("fixed");j.isInViewport()?j.removeClass(r):j.addClass(r),j.find(".text > span").html("("+(g>0?g.toFixed(2):0)+"%)")}}),b}(),jQuery.extend(jQuery.easing,{fixedScrollEasing:function(a,b,c,d,e){var f=(b/=e)*b,g=f*b;return c+d*(-.749999*g*f+2.5*f*f+-2*g+-1.5*f+2.75*b)}}),this}}(jQuery);
/*
  * fixed-scroll v1.0.0
  * Â© Copyright Carmine Rumma 2023
  * Built on: 11-04-2023
 */

!function(a){"use strict";a.fn.isInViewport=function(){var b=a(this).offset().top,c=b+a(this).outerHeight(),d=a(window).scrollTop(),e=d+a(window).height();return c>d&&b<e},a.fn.fixedScroll=function(b){function c(){k=d.height(),i(!0)}const d=a(window),e=a("html"),f=a("body"),g=a("head");var h,i,j=this,k=d.height(),l=[];const m="fixed-scroll-section",n="."+m,o="f-scroll-wrapper",p="f-scroll-inner",q="f-unvisible";a(("<style type='text/css'>        "+n+" {            width: 100%;            height:100vh;            position: relative;            overflow: hidden;        }        "+n+".fixed {            position: fixed!important;            top: 0!important;        }        ."+q+" {            visibility: hidden;        }        ."+o+"{            position: relative;        }        ."+p+"{            position: absolute;            top: 0;            left: 0;            width: 100%;            height: 100vh;            overflow: hidden;            transform: translate3d(0,0,0);        }        ."+p+".go-down{            bottom: 0;            top: auto;        }        ."+o+".fixed > "+n+" {            position: absolute;        }    </style>").trim().replace(/\s\s+/g," ")).appendTo(g);var r=0,s=a.extend({useCSSFixed:!0,onEnter:null,onExit:null,onScroll:null},b);return function(){var a;d.on("resize",function(){a&&clearTimeout(a),a=setTimeout(c,150)})}(),function(){var a="undefined"!=typeof InstallTrigger;h=a?e:f}(),i=function b(c){var e=0;c||j.length>0&&(a(j).each(function(b,c){const d=a(this);d.removeAttr("data-fixed-section"),d.addClass(m)}),a(n).wrapAll("<div class='"+o+"'></div>")),!0===c&&(l=[]),r=0,a(n).each(function(b,c){const d=a(this);var f=d.data("duration")?d.data("duration")*k:k,g=d.offset().top;r+=f,l.push({handler:a(c),offsetTop:g,height:f,entered:!1,exited:!0,onEnter:function(a){"function"==typeof s.onEnter&&s.onEnter(a)},onExit:function(a){"function"==typeof s.onExit&&s.onExit(a)},onScroll:function(a){"function"==typeof s.onScroll&&s.onScroll(a)}}),e=g+f}),a("."+o).css("minHeight",r);var f=0;a(n).each(function(b,d){const e=a(this);c||e.wrapInner("<div class='"+p+"' ></div>"),e.css({top:f,height:l[b].height,zIndex:100-b}),l[b].nOffsetTop=b>0?l[b-1].nOffsetTop+l[b-1].height:0,f+=l[b].height});var g=0;return a(d).on("scroll",function(){const b=a(window).scrollTop(),c=b>=g?"down":"up";g=b;const d=a("."+o).offset().top;b>l[0].offsetTop&&a("."+o).addClass("fixed");for(var e=0;e<l.length;e++){const f=l[e].nOffsetTop;var h=0;const i="up"===c?-1:1,j=l[e].handler,m=j.find("."+p);if(b+d*i>=l[e].offsetTop){var n=b-f-d;const r=f+l[e].height+d-k;if(b+k>=f){h=100*(b-(l[e].nOffsetTop+d))/(l[e].height-k)}b>=r&&(n=null,h=100,j.removeClass("fixed"),m.addClass("go-down"),l[e].exited||(s.onExit(e,j),l[e].exited=!0)),n>=0&&!s.useCSSFixed&&m.css("transform","translateY("+n+"px)translateZ(0)"),s.useCSSFixed&&h>0&&h<100?(j.addClass("fixed"),l[e].entered||(s.onEnter(e,j),l[e].entered=!0),m.removeClass("go-down")):j.removeClass("fixed"),h>=0&&h<=100&&j.hasClass("fixed")&&s.onScroll(e,h,j)}else m.css("transform","translateY(0px)translateZ(0)"),j.removeClass("fixed"),l[e].exited||(s.onExit(e,j),l[e].exited=!0);j.isInViewport()?j.removeClass(q):j.addClass(q)}}),a(d).trigger("scroll"),b}(),jQuery.extend(jQuery.easing,{fixedScrollEasing:function(a,b,c,d,e){var f=(b/=e)*b,g=f*b;return c+d*(-.749999*g*f+2.5*f*f+-2*g+-1.5*f+2.75*b)}}),this}}(jQuery);